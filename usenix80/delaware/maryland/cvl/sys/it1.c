#

/* Simulate Grinnell GMR-27 internal test one (1) */
#include "../grinnell/grdefs.c"

int  itest1[] {
		/* Page 1 of 7 */
LDC | ALL12,
LSM | ALL12,
LWM | DHGHT | DWDTH,
LUM | EBA,
ERS,
SLU | SHOME,
LEA | 60,
LEB | 14,
LEC | 88,
LLA | (ALL9 & 456),
LLB | (ALL9 & -18),
LLC | (ALL9 & 420),
SPD | ITESTS | UNPACK,
LPR | (ABYTES & ~SWTBYT) | 14,
'RG',
'NI',
'EN',
'LL',
'S ',
'SY',
'ET',
'SM',
'C ',
'RO',
'OP',
'AR',
'IT',
'NO',
SLU | LBA | EC,
LPR | ABYTES | SWTBYT | 12,
'GM',
'R-',
		/* Page 2 of 7 */
'27',
' D',
'IS',
'PL',
'AY',
' G',
'EN',
'ER',
'AT',
'OR',
LEC | (ALL9 & -280),
SLU | LC | ECA,
LUM | ECA,
LEC | 14,
LPR | (ABYTES & ~SWTBYT) | 8,
'NI',
'ET',
'NR',
'LA',
'T ',
'SE',
' T',
'1#',
LEA | 4,
LLA | 4,
LLC | 28,
LWM | LIGHT | DHGHT | DWDTH,
LPR | (ABYTES & ~SWTBYT) | 5,
'US',
'CB',
'AH',
'NN',
		/* Page 3 of 7 */
'LE',
LER | 14,
LWM | DHGHT | DWDTH,
LEC | 28,
LSM | 00001,
WAC | '0',
LSM | 00002,
WAC | '1',
LSM | 00004,
WAC | '2',
LSM | 00010,
WAC | '3',
LSM | 00020,
WAC | '4',
LSM | 00040,
WAC | '5',
LSM | 00100,
WAC | '6',
LSM | 00200,
WAC | '7',
LSM | 00400,
WAC | '8',
LSM | 01000,
WAC | '9',
LEC | 14,
LSM | 02000,
WAC | '1',
WAC | '0',
SLU | EBA,
LSM | 04000,
WAC | '1',
WAC | '1',
		/* Page 4 of 7 */
LEA | 46,
SLU | LCA,
LSM | 07777,
LEC | 14,
LWM | LIGHT | DHGHT | DWDTH,
LPR | (ABYTES & ~SWTBYT) | ODDBYT | 4,
'HC',
'NA',
'EN',
'XL',
LER | 14,
LWM | DHGHT | DWDTH,
LEC | 28,
LDC | 00001,
WAC | '0',
LDC | 00002,
WAC | '1',
LDC | 00004,
WAC | '2',
LDC | 00010,
WAC | '3',
LDC | 00020,
WAC | '4',
LDC | 00040,
WAC | '5',
LDC | 00100,
WAC | '6',
LDC | 00200,
WAC | '7',
LDC | 00400,
WAC | '8',
LDC | 01000,
		/* Page 5 of 7 */
WAC | '9',
LDC | 02000,
LEC | 14,
WAC | '1',
WAC | '0',
LER | 14,
LDC | 04000,
WAC | '1',
WAC | '1',
LLR | 24,
LWM | LIGHT | DWDTH | DHGHT,
LDC | ALL9,
ERL,
LLA | 55,
ERL,
LLA | 418,
ERL,
LLA | 419,
ERL,
LWM | DWDTH | DHGHT,
LEA | 0,
LLA | 0,
LEB | 0,
LUM | LBA | EBA,
LLB | GWRITE | 479,
LLB | (ALL9 & -1),
LEB | GWRITE | 511,
LEB | 0,
LLB | GWRITE | 35,
LLB | (ALL9 & -1),
LEB | GWRITE | 1,
LUM | ECA,
		/* Page 6 of 7 */
LEC | 28,
LEA | 0244,
LLA | 032,
WID | 00001,
WID | 00002,
WID | 00004,
WID | 00010,
WID | 00020,
WID | 00040,
WID | 00100,
WID | 00200,
WID | 00400,
WID | 01000,
LER | 7,
LEC | 42,
WID | 02000,
WID | 04000,
LEA | 165,
LLA | 294,
LEC | 14,
LPR | ABYTES | SWTBYT | ODDBYT | 7,
'CO',
'NF',
'IG',
'UR',
'AT',
'IO',
'NX',
LEA | 109,
LLA | 165,
LPR | (ABYTES & ~SWTBYT) | ODDBYT | 11,
'84',
		/* Page 7 of 7 */
' 0',
' X',
'15',
' 2',
'R ',
'SE',
'LO',
'TU',
'OI',
'XN',
LUM,
LWM | VCURSOR,
SPD | ITESTS | LOOKUP,
-1,                     /* NON, */
-1,                     /* NON, */
SPD | ITESTS,
LDC | 0,
LSM | 0,

};

main(argc, argv)
char **argv;
{
	register int fil;
	register int *i, cnt;
	fil = open("/dev/gr", 1);
	while(1) {
		if(argc > 1) {
			i = itest1;
			cnt = sizeof itest1 / 2;
			while(cnt--) {
				write(fil, i, 2);
				i++;
			}
		} else {
			write(fil, itest1, sizeof itest1);
		}
	}
}
