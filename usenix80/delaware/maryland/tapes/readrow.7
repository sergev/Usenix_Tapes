.th READROW VII 28-September-1979
.sh NAME
readrow \*- read fixed length row in spite of pipe shortchanging
.sh SYNOPSIS
.ft B
readrow(buffer, length)
.br
char *buffer;
.br
int length;
.ft R
.sh DESCRIPTION
.it Readrow
is a subroutine that fills
.it buffer
with
.it length
bytes
from the standard input regardless of the actual input file type.
Thus when reading images or matrices,
.it readrow
can get an entire row regardless of any pipe shortchanging.
.it Readrow
returns the number of bytes it was unable to read
because an end of file was found.
In many cases,
if the number returned at the end of the file is not
the number of bytes requested
then the data length is incorrect.
.s3
.it Readrow
uses
.it errprnt
to notify the user of read errors.
.it Errprnt
expects the calling program's name to be supplied
through the commom variable
.bd argv0
that should be set equal to the calling programs argument 0
by the main routine.
.s3
.it Readrow
provides economical raster input for programs that only use one input file.
Using operating system support,
a program can be written as a filter that
avoids using irrelevant workspaces or setup routines.
For many image processing applications,
all input may be handled by
.it readrow
alone.
.sh DIAGNOSTICS
On physical data errors,
.it readrow
prints ``read error'' and exits.
If
.it argv0
is not defined in the main program, ld(I) complains.
.sh FILES
.sh "SEE ALSO"
errprnt(VII), printf(III), exec(II), ld(I)
.sh AUTHOR
Robert L. Kirby
.sh BUGS
Only the standard input may be read.
