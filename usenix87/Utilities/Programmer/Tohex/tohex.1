.TH TOHEX 1L
.. Copyright 1984, 1987 by Phillip L. Harbison
.SH NAME
tohex - convert UNIX a.out files to readable hex formats.
.SH SYNOPSIS
.bo
tohex
{ -i | -s | -t } [-ln] [+n] file
.SH DESCRIPTION
.ad
.ul
Tohex
reads a file in UNIX a.out format and converts
to one of several hex-ascii formats.
Output is directed to the standard output.
The
.ul
-s
option specifies Motorola S-record format.
The
.ul
-i
option specifies Intel hex format.
The
.ul
-t
option specifies Tektronix hex (tekhex) format.
A valid hex format and input filename
must be specified on the command line.
.LP
A record length may be specified using the
.ul
-ln
option,
where n is the record length (decimal).
The default record length is 32 byte-pairs.
The maximum record length is 251 byte-pairs
for S-record format,
and 255 byte-pairs for Intel-hex and Tekhex format.
.LP
Tohex will derive the starting address offset
from the header information in the a.out file.
A starting address offset may also
be provided using the
.ul
+n
option.
The offset n (hexadecimal) will be used
instead of the value derived from the a.out header.
Specifying an offset is usually unnecessary
for object files generated by the UNIX loader.
.SH EXAMPLES
The first example shows the file
.ul
newprog
being converted to Intel-hex records 
with a starting address offset of A000 (hex)
and written to
.ul
newprog.hex.
The second example shows the file
.ul
newprog
being converted to S-records
with a length of 64 byte-pairs,
the output being redirected to
.ul
newprog.hex.
.sp 1
.nf
		tohex -i +0A000 newprog > newprog.hex
		tohex -s -l64 newprog > newprog.hex
.fi
.SH DIAGNOSTICS
.ul
Tohex
will complain if it cannot find a valid format
specifier and input filename on the command line,
if the record length exceeds the maximum record
length for the specified format,
or if the input file is not stripped
of symbol table information.
Messages should be self-explaining.
.SH NOTES
The magic number is defined as FMAGIC in the
a.out.h file on the author's system,
and may not be correct for other systems.
Pure executable a.out files are not supported,
since initialized data is assumed to follow
directly after text.
The S-record format supported is the S2/S8 record,
providing 24-bit addressing.
The termination (S8) record will contain the starting address.
The Intel-hex format only supports 16-bit addressing.
.SH FILES
/usr/include/a.out.h
.SH "SEE ALSO"
a.out(5)
.SH AUTHOR
Phil Harbison
