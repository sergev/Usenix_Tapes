Path: plus5!wuphys!wucs!we53!ltuxa!cuae2!mirror!sources-request
From: sources-request@mirror.UUCP
Newsgroups: mod.sources
Subject: v07i030:  Top users display for 4.2BSD, Version 2.0, Part01/02
Message-ID: <249@mirror.UUCP>
Date: 24 Sep 86 14:12:38 GMT
Sender: rs@mirror.UUCP
Organization: Mirror Systems, Cambridge MA
Lines: 2245
Approved: mirror!rs
Posted: Wed Sep 24 09:12:38 1986

Submitted by: William LeFebvre <phil@rice.edu>
Mod.sources: Volume 7, Issue 30
Archive-name: top2/Part01

Well, here it is at last:  top, version 2.0.

This is a new version of a top users display for Berkeley 4.2 Unix.  It
uses termcap (but not curses) to periodically update the screen with
information about the top so-many processes that are using CPU cycles.

This distribution will work on the following Unix systems:  standard
Berkeley 4.2 (i.e.: for a VAX), Sun Unix (both 2.0 and 3.0), and
Pyramid Unix.  I received copies of top programs that were modified to
run on a Masscomp and a Sequent, but in both cases the number of
changes that were necessary were too high.  For comparison, the number
of #ifdef lines necessary for the two current variants are:  8 for the
Sun and 3 for the Pyramid.  And none of these changes made the display
look any different.  In contrast, the number of changes that would be
required for the Masscomp was somewhere in the area of 40, and several
changes to the display were necessary.  Similar comments hold for the
Sequent.  For these reasons, I am reluctant to add support for these
machines.  It would be just as easy to maintain completely different
source files for these architectures.  After so many ifdef's, code
becomes unreadable.

There is important information in the README.  Please read it even if
you are intimately familiar with top.  Some individuals will also be
interested in reading the Changes file.

Several suggestions that I received through the net were incorporated
in 2.0.  My thanks to all those who made recommendations.  Some day, I
should add acknowledgements, but not today.  Feel free to send me
changes and especially bug fixes.  If you succeed in getting top to run
on an unsupported architecture, and the number of changes is not too
high, then please send me the code (or at least a diff).  I will try to
include it in future versions.

			William LeFebvre
			Department of Computer Science
			Rice University
			<phil@Rice.edu>

