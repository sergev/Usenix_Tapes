Path: plus5!wuphys!wucs!we53!ltuxa!cuae2!ihnp4!cbosgd!cbatt!clyde!caip!meccts!dicome!mmm!umn-cs!umnstat!umd-cs!umd-ua!umd-cpe!rhealey
From: rhealey@umd-cpe.UUCP (Rob Healey)
Newsgroups: net.sources.bugs
Subject: Re: csh on 3b2's?
Message-ID: <12@umd-cpe.UUCP>
Date: 30 Jun 86 23:30:04 GMT
References: <17600017@smu>
Organization: UMD Computer Engineering, Duluth MN
Lines: 57
Summary: You might try using sources from another system.
Posted: Mon Jun 30 18:30:04 1986

In article <17600017@smu>, rab@smu writes:
> 
> 
> anybody ever heard of csh for the 3b2?
> 
> i have been looking until i am blue in the face.  the shell script that
> was written to look like csh is interesting, but painfully slow.
> 
> if ANYONE has ANY idea about this, please let me know.
> 
> thanks.
> 
> rick barrett
> convex!smu!rab

	Rick,

	 You can try to use older versions of the ucb csh if you have the
      license for the source and if your license says it's ok to do that.

	I found a 1979 version of the csh on our PDP-11 and sort of got it
      to work. The PDP-11 version has no job control and the sources say
      that the version I used isn't even supported by Berkeley. I rewrote
      parts of the code because of PDP-11isms but everything eventually
      worked, sort of. The shell is unstable and likes to crash when one
      sources a file with errors in it. I use the shell a little but since
      I don't know if it'll crash when I do something I mostly use the
      Bourne shell. The shell works for about 60-90 commands before it starts
      acting weird and I have to exit and restart the shell. I heard AT&T was
      going to release a version of the C shell for the 3b2 but that was just a
      rumor. 

	I think the 3b2 C compiler is brain-damaged somewhere though.
      The code generated by the compiler would use registers for important
      pointers, call a function without saving the registers, and wham,
      instant core dump when you try to use the pointer. What's really a shame
      is that none of the pointers used were declared register, the compiler
      did that on it's own but forgot to save/restore the registers.
      I couldn't release ANY memory space used by the shell or it would dump
      core.

	The lack of a functioning C shell is a pain on the 3b2, it's not a
      bad machine for 3-6 users it just lacks the BSD "extras" that make
      BSD systems more pleasant to use.

	I didn't really answer your question I suppose but it is an idea.
      although a very shakey one.


			-Rob Healey
			 CpE Dept.
			 University of Minnesota, Duluth

		  ..!ihnp4!umn-cs!umd-cs!umd-ua!umd-cpe!rhealey


#include <disclaimers.h>
