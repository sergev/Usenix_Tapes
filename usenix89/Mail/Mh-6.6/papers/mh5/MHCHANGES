		      MHCHANGES from mh.4 to mh.5


Mon Aug 27 05:00:44 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-750b>

	Decide that mh.4 is finished.  This file keeps track of the
	changes made between the mh.4 and mh.5 versions.  As usual, it's
	being kept in add-source-change format.  [Actually, mh.4 was
	finished on July 1, 1984.  For obscure reasons, this ChangeLog
	didn't start until August 27th though.]


Mon Aug 27 05:07:37 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-750b>

	uip/inc.c: examine the profile entry "maildrop" to override the
	default maildrop if necessary.  "maildrop" is interpreted with
	m_mailpath(), so if not an absolute path, it's interpreted relative
	to the user's MH directory.


Tue Sep 11 19:59:24 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-750b>

	tws/dtime.c: have it know about EDT.  Really, dtimezone needs to
	get fixed up and use two tables instead of one...


Wed Sep 12 20:02:22 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-750b>

	uip/rcv{cron,tty}.c: if not reading mmdf.h, then read smail.h to
	get proper definitions of RP_M{ECH,OK}.


Sun Sep 16 16:08:39 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-750b>

	uip/folder.c: change capitalization of "%d Folder%s" to
	"%d folder%s".


Tue Sep 18 14:16:53 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-750b>

	uip/folder.c: if folder is unreadable (errno==EACCES), just say
	"unreadable", don't bother to call admonish().


Tue Sep 18 14:30:57 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-750b>

	uip/inc.c: Check $MAILDROP prior to checking the Maildrop: profile
	entry.


Wed Sep 19 16:02:18 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-750b>

	uip/scan..c: if message is unreadable (errno==EACCES), just say
	"unreadble", don't bother to call admonish().


Fri Sep 21 19:25:25 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-750b>

	sendmts/hosts.c: change ALLHOSTS logic: if we're running with an
	    exception file, then turn ALLHOSTS on (let mail system be final
	    arbitrator).  Also, if using an exception file, play along if the
	    file can't be opened.


Sat Sep 22 19:03:02 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-750b>

	uip/sbboards.c: forgot a few arguments in a couple of printf-like
	strings.


Sat Sep 22 20:19:40 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-750b>

	uip/rcvlink.c: new rcvmail hook, just like the old rcvlink hook
	used in the ZOTnet.


Mon Oct  1 20:48:25 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-icsb>

	uip/{scan,inc,scansbr}.c: change scansbr.h to #define the return
	codes from scansbr$scan().  Modify scan.c to say if a null message
	is empty.


Mon Oct  1 20:49:32 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-icsb>

	uip/repl{,sbr}.c: add the -[no]query switch which interactively
	prompts the user for info on who should be replied-to.


Wed Oct 10 09:15:23 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-icsb>

	uip/install-mh.c: fix minor typo in display of help message.


Wed Oct 10 14:41:30 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-icsb>

	uip/rcv{cron,link,tty}.c: foil m_getdefs() for JLR.


Fri Oct 12 09:52:19 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-icsb>

	sbr/m_edit.c: change rindex() to r1bindex().  Silly typo.


Fri Oct 12 09:53:56 1984  Rand MH Mail Handler (agent: Marshall Rose) <mh@uci-icsb>

	uip/ap.c: be sure to foil m_getdefs() for consistency.


Mon Oct 15 08:27:13 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	conf/{mhconfig.c,config/config.c}: make the default editor
	    configurable.
	conf/mhconfig.c: add support for othersupport/Makefile.
	Makefile,conf/{config/mts.c,makefiles/mts}: add support for the
	    mtstailor file.
	othersupport/tutorial/: include the MH tutorial
	uip/{ap,bbr,conflict,inc,post,rcvcron,rcvlink,rmail,sbboards,slocal}.c,
	    mts/msgchk.c: add support for the mtstailor file.
	uip/{rmail,sbboards,slocal}.c: foil m_getdefs() (just in case).


Wed Oct 17 10:02:27 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/inc.c: more mtstailor fixes, always read MAILDIR.
	uip/prompter.c: add the -[no]rapid switch.


Thu Oct 18 11:14:15 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/annosbr.c: if file doesn't exist, don't spit out error
	diagnostic (comp/dist/forw/send -anno followed by push).


Fri Oct 19 08:57:23 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/dist.c: instead of introducing Prev-Resent-Header: just prepend
	    Prev- to previous resent-XXX: fields.
	uip/{post,dist}.c: append resent-XXX: fields instead of prepending
	    them.  Also some minor clean-up.
	tws/dtime.c: use a better structure to permit "fool-proof"
	    generation of time with dst.
	tws/dtimep.c: minor clean-up.


Sat Oct 20 11:47:26 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/post.c: let fcc: fields have more than one folder entry.


Mon Oct 22 11:37:30 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sendmts/smail.c: forgot to declare parameter watch for -DSENDMAIL.
	conf/makefiles/*: make "make install" a synonym for "make inst-all".
	conf/makefiles/*: support $(DESTDIR) convention.


Tue Oct 23 12:35:58 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	conf/config/mts.c, mts/mts.h: remove the mbx_lock() and mbx_unlk()
	routines and replace them with the lock-and-open routines
	lkopen(), lkclose(), lkfopen(), and lkfclose().  lkopen() acquires
	an exclusive lock on the named file (which *must* exist) and then the
	appropriate open.  lkclose() releases the lock and closes the
	file.  lkfopen() is to lkopen() as fopen() is to open().  lkfclose()
	is to lkclose() as fclose() is to close().  I had to do all this
	so with 4.2BSD we can use flock to do the locking instead of the
	link/unlink business.


Wed Oct 24 11:00:55 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	       -- All fixes from Terry Domae at NRTC --
	conf/mhconfig.c: invoke mhdoc with csh explicitly since V7 doesn't.
	conf/config/config.c, config/mh.h: add new global variable libpath.
	uip/mhlsbr.c: support libpath for system-wide forms.
	config/mh.h,mf/mf.c,sbr/getusr.c,uip/post.c: add -DNRTC for MAILID
	    support
	uip/replsbr.c: don't panic if the host for the sender/from field
	    is unknown.
	uip/{send,whom}.c: forgot to use m_draft() instead of m_maildir(draft).
	sbr/m_draft.c: fix things up for show -draft.
	uip/show.c: add a "-form formfile" switch.  Also, support for -draft
	    to reflect draftfolders.


Wed Oct 24 21:46:22 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	conf/config/config.c, config/mh.h: add libpath() which looks first
	    in m_maildir and then etcpath for the file.  Get rid of the
	    std* variables since libpath() now does the same thing.
	With libpath, we now search m_maildir and then etcpath for
	    alias files for send and whom, form files for comp, dist, forw,
	    and repl, and filter files for forw and mhl.


Sat Oct 27 23:08:23 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_getdefs.c: create the MH-directory if it's not there.
	uip/rmf.c: when rmf'ing a folder make sure parent's folder is
		writable as well as the folder.


Sun Oct 28 10:32:06 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/*.c: remove calls to m_news(), also add m_foil() to foil
	    implicit calls to m_getdefs ().
	{sbr/m_getdefs,uip/rmf}.c: make mp->others checking a bit smarter
	    for #ifdef UCI.


Sun Oct 28 20:36:45 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/folder.c: On "folder +foo", if +foo doesn't exist, ask if it
	    should be.


Sun Oct 28 22:12:22 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/bbr$repl: forgot to support -[no]query.
	conf/doc/tmac.h: add .nf and .fi at the right spots for "FILES",
	    etc.

Mon Oct 29 19:23:10 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/bbc.c: remove a couple of calls to setbbent().  They were
	    defeating setbbfile().  They weren't even needed since the
	    first thing that bbc does (even before parsing arguments) is
	    to call setbbent().
	uip/show.c: force -noformat, -noheader, and -nopr to be at least
	    three characters for recognition.
	uip/post.c: when invoking fileproc, add a '+' only if it doesn't
	    start with '+' or '@'.


Tue Oct 30 08:12:50 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/{comp,dist,forw,repl}.c: make the "push" option at "What now?"
	    level visible.  Document the draftfolder switches in the
	    manual page
	uip/bbc.c: document `-file BBoardsfile' in manual page
	uip/bbl.c: remove -debug switch
	uip/repl.c: remove -debug switch
	uip/send.c: document -[no]remove in manual page, make -push
	    visible and add -nopush.  Document the draftfolder switches in
	    the manual pages



Tue Oct 30 16:35:37 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/prompter.c: if the skeleton lacked a body sometimes prompter
	    would ask for a body and sometimes it wouldn't.  Now it doesn't.
	uip/dist.c: call ready_msg() each time ready_draft() is called so
	    user can edit message being dist'd.  (sigh)


Tue Oct 30 18:59:45 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	mf/mf.c: very minor clean-up of isfrom().
	mhmts/{hosts.c,netmail.c},{mmdf,sendmts}/hosts.c: include mts.h


Tue Oct 30 21:30:38 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	tws/dtimep.c: parse ctime(3) strings, since some fool hosts
	    actually permit that to get into the Internet.


Tue Oct 30 22:14:19 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/post.c: if we get an address-bearing field without any address,
	    just ignore it instead of complaining about it.


Wed Oct 31 07:54:41 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	mmdf/hosts.c: somehow "mmdf.h" and "util.h" weren't included.


Wed Oct 31 08:13:36 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/prompter.c: if the skeleton lacked a body sometimes prompter
	    would ask for a body and sometimes it wouldn't.  Now it ALWAYS
	    does.
	uip/show.c: "show -pr -f n" exec'd "pr inbox/-f inbox/n".  Now it
	    exec's "pr -f inbox/n" like it should.


Wed Oct 31 14:41:06 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/scansbr.c: change SLINE to 78 (instead of 79).  We really
	    should read termcap or an MH profile entry though.


Wed Oct 31 19:12:58 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/rcv{cron,tty}.c: include "../mmdf/util.h" when MMDFMTS.


Wed Oct 31 20:23:13 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	      -- All fixes from Phyllis Kantar at Rand --
	uip/repl.c: should use done(1) if the initial m_edit fails instead
	    of done(0).
	sendmts/smail.c: comment out passing of "-ov" to SendMail if
	    compiled at Rand.

Wed Oct 31 22:27:33 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/repl.c: since post can handle multiple folders in an fcc:
	    line, take advantage of it.


Thu Nov  1 00:33:24 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	bbsupport/{bboards.{daily,weekly},bb{save,remove}} - use /bin/sh
	    not /bin/csh
	bbsupport/bb{aka,exp,tar}.c - call setbbent() with the right
	    argument.  Where applicable use /bin/sh not /bin/csh
	conf/config/MakeBBoards - remove dependencies
	conf/mhconfig.c - support for empty mmdfldir and non-empty
	    mmdflfil.


Thu Nov  1 15:14:43 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	support/mhl.format: change terminal length from 40 to 23.


Thu Nov  1 18:42:44 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/brkstring.c:  brkany() wasn't checking for a null string.  It
	    does now.


Fri Nov  2 07:56:36 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/pick.c: if no matches and -list output a "0" so backquoting
	    fails.


Fri Nov  2 13:17:27 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/replsbr.c: don't bomb if returnee's host is unknown (use
	    AD_HOST instead of AD_NAME).
	mmdf/hosts.c: when calling mmdf_init() use invo_name and not "mh".


Fri Nov  2 13:44:50 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/{forw,forwsbr}.c: change encapsulation algorithm to use
	    different bit-stuffing scheme.
	uip/mhlsbr.c: with -forward (interface from forw), support change
	    in encapsulation algorithm.


Fri Nov  2 17:08:18 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/forwsbr.c: remove, put cpydgst() into sbr/cpydata.c
	config/mh.h, sbr/llib-lmh: declare cpydgst().


Sat Nov  3 19:56:51 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/bbc.c: get this: "bbc -quiet" with no other arguments and a
	    bogus "bboards:" entry in the profile would yield a core dump.
	    Marvelous.


Sun Nov  4 15:00:20 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_getfld.c: in the interests of speed-up, change eom() to a
	    macro that calls the auxilary function Eom() if need be.  This,
	    along with the addition of a new mbx_style, DEFAULT, should
	    give a significant speed-up in parsing individual files and
	    the MH profile.  Finally, make Getc() a macro as well, which
	    calls the routine GETC() only on special occasions.
	config/mh.h,sbr/{llib-lmh,m_getfld.c}: change mbx_unknown() to
	    m_unknown().


Sun Nov  4 17:40:04 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/folder.c: forgot the m_sync() after m_setcur().  This
	prevented "folder +folder msg" from setting msg as cur.


Mon Nov  5 13:14:36 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/replsbr.c: don't adios() when can't understand "From:" or
	"Sender:" field.  Continue on, gracefully (ha!)


Mon Nov  5 18:15:01 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	     -- ALTOS port of MH.5 (under #ifdef ALTOS) --
	conf/config/config.c: "more" resides in /usr/bin/. "ls" resides
	    in /bin/.
	conf/config/mts.c: read /etc/mhid for {Local,System}Name().  Also
	    add routine gethostname () which reads /etc/systemid.
	config/mh.h: #include "../config/altos.h" on #ifdef ALTOS.  Also,
	    new #define LINK which is "@" unless ALTOS else "#".
	config/altos.h: to get past V7 compiler...
	mf/msgchk.c: was using NULL instead of ""
	mf/mf.h: #include "../config/altos.h" on #ifdef ALTOS.
	sbr/m_edit.c: use LINK instead of "@"
	sbr/m_gmsg.c: use LINK instead of "@"
	sbr/m_seq.c: was using NULL instead of ""
	uip/clrsbr.c: use minimum of 2048 size for termcap buffer
	uip/dist.c: use LINK instead of "@"
	uip/install-mh.c: use (FILE *)NULL instead of NULL
	uip/msh.c: don't #include <sys/ioctl.h> if ALTOS
	uip/repl.c: use link instead of "@"
	uip/rmf.c: use link instead of "@"


Tue Nov  6 09:56:21 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	conf/mhconfig.c: add "oldload" option for ALTOS.


Tue Nov  6 09:56:55 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/{m_edit.c,llib-lmh}: add extra argument for $cwd for edit.
	uip/{comp,dist,forw,repl}.c: call pwd() and invoke m_edit with the
	    extra argument.


Tue Nov  6 21:16:42 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/msh.c: call m_unknown() since advanced m_getfld() algorithm
	    loses otherwise (a long story).


Tue Nov  6 21:33:39 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/dist.c: on "push" call ready_draft() prior to actual push()
	    since if dist is invoked from bbr the file being distributed
	    will get zapped prior to ready_draft() getting called.  Moby
	    hack.


Wed Nov  7 20:12:04 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_draft.c: "Draft-Folder: +drafts" loses.  Strip the '+' if
	    need-be.



Wed Nov  7 20:45:44 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/{clr,scan}sbr.c: read termcap to ascertain the length of the
	    scan line.
	uip/trmsbr.c: used to be called uip/clrsbr.c


Wed Nov  7 21:51:56 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/post.c: make Bcc:s look more line a forwarded message.
	uip/mhl.c: add -forwall flag to help forw for batching. the -forward
	    flag now just uses the encapsulation algorithm.


Thu Nov  8 16:59:37 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/bbc.c: trap sigTERM just like sigEMT so user can kill bbc and
	    "have the right thing happen".


Sat Nov 10 16:10:33 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/trimcpy.c: remove all trailing [lt]wsp.


Mon Nov 12 08:15:59 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/msh.c: msh$show didn't know about the `-form formfile' switch.


Mon Nov 12 08:29:19 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	conf/makefiles/bbsupport: when MH profile was installed for the
	    BBoards login, the context file wasn't.
	sbr/m_getdefs.c: if "context:" isn't set in the MH profile, then
	    don't complain if it's not there.


Mon Nov 12 11:01:51 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/post.c: re-arrange the code a bit for better organization.


Mon Nov 12 22:15:53 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	     -- All fixes from Fred Blonder at UMCP-CS --
	conf/doc/mh.rf: add more details (mini tutorial).
	sbr/{concat.c,llib-lmh}: use <varargs.h>
	sbr/m_name.c: use simpler method, sprintf().  Also fix size of
	    name[] buffer.


Tue Nov 13 00:08:01 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/{burst,msh}.c: fix bursting algorithm to support forwardings/bcc:s.
	uip/{forw,mhlsbr,post}.c: strip one extra \n from last encapsulation
	    boundary.


Tue Nov 13 00:58:41 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/msh.c: add "inc" and "mhmail" commands (big deal).


Tue Nov 13 13:08:41 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	newsupport/mh_receive: make it generated during MH configuration.
	conf/mhconfig.c: support above change.


Tue Nov 13 18:58:43 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	tws/{tws.h,dtime.c}: move tws_compare() from uip/picksbr.c to
	    dtime.c, call it twsort().


Tue Nov 13 21:05:53 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/msh.c: add "sortm" command.
	uip/sortm.c: clean it up a bit.


Wed Nov 14 10:23:19 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	   -- All suggestions from Phyllis Kantar at Rand --
	mf/mf.{h,c}: add new field entry "note" for 822-style comments.
	config/addrsbr.h: add corresponding field entry m_note.
	    also change m_hnum to m_type.
	uip/addrsbr.c: add a new argument to getm() to say what type the
	    default host is.


Wed Nov 14 13:30:00 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_convert.c: if "0" is given as a message number, print
	    special error message (for use with backquoted pick).
	sbr/m_gmsg.c: be more careful about saying when "cur" exists.
	    (don't set "curmsg" unless "mp -> msgstats[curmsg] & EXISTS").


Wed Nov 14 19:06:24 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_{gmsg,seq}.c: fix various logic bugs that prevented private
	    sequences from being recognized as such.


Wed Nov 14 20:16:04 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/adios.c: for 4.2BSD use writev() on the adios() family of
	    routines, gives much smoother output.
	uip/mhlsbr.c: call the adios() family of routines instead of
	    explicitly using stderr.


Wed Nov 14 22:19:10 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_gmsg.c: undo curmsg "fix" above, it broke MH mightily!
	sbr/m_convert.c: check curmsg here, so explicit references to
	    "cur", when it doesn't exist, fails.


Wed Nov 14 23:24:56 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	   -- All suggestions from Phyllis Kantar at Rand --
	sbr/{ssequal,uleq}.c: default arguments to "" if NULL.
	uip/addrsbr.c: have ismymbox() recognize localhost!user.
	uip/folder.c: have "folder -fast msg" set "msg" as cur.
	sbr/m_getdefs.c: if using $MH, and it isn't relative,
	    after expanding it, setenv it to an absolute pathname for
	subshells.


Thu Nov 15 09:24:32 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	     -- More fixes from Fred Blonder at UMCP-CS --
	sbr/concat.c: botched <varargs.h> installation for the pyramid.
	    use Fred's code.


Thu Nov 15 09:29:43 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

		  -- Fixes from John Romine at TGC --
	uip/{forw,mhlsbr}.c: using NULL instead of "" in a couple of
	    places.


Thu Nov 15 12:11:58 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	mmdf/hosts.c: at the suggestion of Doug Kingston, use dm_v2route()
	    to map host references to official domain strings.


Thu Nov 15 21:15:41 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

		  -- Fixes from John Romine at TGC --
	sbr/m_getdefs.c: use (FILE *)NULL instead of NULL when testing
	    fopen()'s return value.


Fri Nov 16 08:20:50 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_getdefs.c: close up COMPAT code slightly.
	conf/makefiles/*: change "-cp $(BINDIR)/cmd zcmd" to use "-mv".
	    (On a trial basis.)

Fri Nov 16 08:21:08 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	     -- More fixes from Fred Blonder at UMCP-CS --
	conf/mhconfig.c: #define SVAL(s) to handle those pesky
	    de-references to NULL.


Fri Nov 16 19:01:32 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/msh.c: remove -[no]burst switches.  Add "rmm" command, but don't
	    document it yet.  Still have to resolve a few problems.
	

Sat Nov 17 13:49:12 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	config/mh.h,uip/{folder,refile}.c: add NFOLDERS to denote max number
	    of folders/files on command line.


Sat Nov 17 15:33:14 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/{mhl,trm}sbr.c: add sc_length() to return li#.  Have mhl
	    assume co# and li# based on termcap entry if not given on
	    command line.  If entries aren't present in termcap, use
	    values in template.


Sat Nov 17 21:22:35 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	conf/makefiles/{mts,uip}: change PGMPROT to 755 for dpk.


Sat Nov 17 22:43:11 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/msh.c: add msh$pack command.
	uip/pack.c: simplify a bit.


Sun Nov 18 15:00:07 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/pick.c: if -help, set -nozero so done() doesn't print "0".
	    Moby hack.


Mon Nov 19 23:36:57 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/bbc.c: neaten handling of distribution addresses on
	    `-topics' output.


Tue Nov 20 16:56:14 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	bboards/{bboards.h,getbbent.c}: change bboard structure to make
	    life easier for bbc.  Also add new structure for use with msh.


Wed Nov 21 13:35:33 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	config/dropsbr.h: new include file
	uip/dropsbr.c: add support for maildrop mapping
	uip/dropsbr.c: add new parameter to mbx_open() for default mode on
	    creation
	uip/{msh,pack,post,rcvpack,s{bboards,local}}.c: modify to use new
	    support for maildrop mapping


Fri Nov 23 19:26:35 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

       uip/{bbc,post,prompter,rcvdist,rmail,{repl,scan}sbr,s{bboards,local}}.c:
	    minor clean-up


Fri Nov 23 21:08:04 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

		   -- More Changes for the ALTOS --
	config/altos.h: didn't work, idiotic V7 compiler (cpp) didn't do
	    "the right thing", so get rid of it and change the variable
	    names in-line
	conf/config/mts.c: make isdlm{1,2} into macros instead of routines
	    in mf/mf.c; also move getusr() there.
	conf/config/mts.c: make getfullname () standard and add new
	    mtstailor option, mailid, to do the BRL/NRTC stuff with
	    pw_gecos


Sat Nov 24 09:59:31 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

		  -- Fixes from John Romine at TGC --
	conf/mh-gen.8: include "dm.h" in list of include files for MMDF2
	conf/mh-gen.8: typo "ggenerate"
	conf/examples/READ-ME: BSD41a => BSD41A
	conf/mhconfig.c: V7 compiler tosses its cookies on reasonably
	    formed structure members.  Fix
	conf/config/config.c: remove comment about "pick -show"
	conf/{config/config.c,doc/mh-profile.rf}, config/mh.h sbr/m_getdefs.c:
	    remove scanproc, since that's used only by "pick -scan" which does
	    not exist
	conf/mhdoc: make into a Bourne shell script.


Sat Nov 24 19:09:14 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/showfile.c: if lproc is "mhl", use mhlproc for consistency
	    (Actually, user should use "lproc: show", "showproc: mhl".)

Sat Nov 24 22:29:09 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/mhlsbr.c: into the fold


Sun Nov 25 13:28:47 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/{{mhl,trm}sbr,msh}.c: use and support SOprintf() for output
	    to terminal
	uip/mhlsbr.c: add support for built-in mhl in msh, mhlsbr()
	uip/msh.c: use new support for built-in mhl
	sbr/m_getfld.c: some mis-logic in Eom(); if style is UNKNOWN,
	    ALWAYS figure out what it is prior to going on


Sun Nov 25 19:30:46 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	bbsupport/bboards.{dai,week}ly: if the bboards login shell is csh,
	    can't use /bin/sh format...


Sun Nov 25 23:36:59 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/{mhl,trm}sbr.c: move discard() from mhlsbr to trmsbr


Mon Nov 26 10:20:07 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/send.c: add -[no]forward


Mon Nov 26 12:26:28 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/mhlsbr.c: add -[no]bell


Mon Nov 26 20:34:18 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/refile.c: new module; implements the "refile" option at "What
	    now?" level
	uip/{comp,dist,forw,repl}.c: new switch -noedit, says to skip the
	    initial edit and proceed directly to "What now?" level.
	    Also make use of the new "refile" option at "What now?" level
	uip/comp.c: support for JLR's comp from a folder/msg notion


Tue Nov 27 14:19:18 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/post.c: ignore Fcc:s when disting


Tue Nov 27 16:54:51 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_draft.c: add new result parameter which tells if a
	    draft-folder is being used
	uip/{comp,dist,forw,repl,show,send,whom}.c: modified appropriately
	    for extra parameter; this info is needed to decide which prompt and
	    options to offer the user if the draft chosen exists


Tue Nov 27 19:08:46 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/addrsbr.c: in addition to griping about bogus addresses in the
	    "alternate-mailboxes:" entry, add a line saying to fix it (and
	    where)
	uip/scansbr.c: very minor cosmetic change in cpyfrm() for group
	    handling


Tue Nov 27 19:22:51 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_getfld.c: add m_eomsbr() for msh$mhl for bursting (sigh)


Tue Nov 27 20:44:45 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

		   -- More Changes for the ALTOS --
	conf/makefiles/{mts,tws}: @(LDOPTIONS) was being left out of
	    LDFLAGS
	config/aliasbr.h,uip/{ali,aliasbr}.c: prefix members of the aka
	    structure with ak_, prefix members of the adr structure with ad_
	tws/tws.h: type "void" undefined
	uip/rcv{dist,pack,tty}.c: include <sys/ioctl.h> only if not on
	    ALTOS
	uip/ttyw.c: put everything under #ifdef TTYD


Tue Nov 27 21:02:41 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/send.c: re-implement the -[no]unique switches for JLR.


Wed Nov 28 00:15:25 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/trmsbr.c: always read termcap and do what we can.  When called
	    from in a non-interactive environment, do the right thing at
	    the right time...
	uip/msh.c: call sc_width() at start-up to read good values from
	    trmsbr


Wed Nov 28 08:24:04 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/refile.c: if +folder arg is forgotten, don't print usage
	    string.  Also add -draft switch.


Wed Nov 28 11:28:56 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/mhlsbr.c: ignores wasn't being handled properly (logic bug)


Wed Nov 28 19:57:44 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/rcv{pack,tty}.c: move inclusion of <sys/types.h> and
	    <setjmp.h> to the not MMDFMTS part, since "util.h" includes
	    'em


Wed Nov 28 20:37:16 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/comp.c: restore old context-sensitive behavior


Wed Nov 28 20:42:21 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	conf/makefiles/*: for installations, use mv -f to save backup


Wed Nov 28 22:59:34 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/msh.c: add -draft argument to msh$refile; clean-up -draft
	    argument in msh$show
	sbr/m_draft.c: call path() on value of Draft-Folder: so relative
	    folders work (!!)
	uip/repl.c: expand fcc: @folder arguments
	

Thu Nov 29 01:55:12 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/pick.c: don't output that "0" on error exits if stdout is a
	    tty... (yep, pick acts differently for ttys, just like ls)


Fri Nov 30 08:47:52 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/news.c: forgot to include mh.h; no one must be using it, love
	    to trash it from the distribution.


		       -- Enter BETA Testing --


Wed Dec  5 14:28:18 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	mts/msgchk.c, Makefile, conf/makefiles/mts: honor MF conventions
	    in msgchk, required MH sbr library
	uip/inc.c: better check of umincproc
	uip/{dist,forw,repl}.c: typo prevented annotation with the pyramid
	    cc
	conf/makefiles/{bbsupport,uip}: give path to chown
	uip/dropsbr.c: no diagnostic if map is empty
	conf/config/mts.c, bboards/getbbent.c: more ALTOS stuff for v7 cc
	sbr/m_getfld.c, uip/mhlsbr.c: botched pointer to function notation,
	    visible on v7 cc
	bbsupport/bbexp.c: forgot to foil m_getdefs()
	sbr/m_{setcur,seq}.c: handle "cur" correctly
	sbr/m_getfld.c: in msh$mhl with a message with no body, big loss
	uip/post.c: don't ask
	sbr/m_getfld.c, conf/makefiles/sbr: use the mts stuff to
	    initialize the delimiter.  The programs that need this will
	    call mts_init() themselvess prior to calling m_getfld()


Wed Dec  5 22:58:11 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/sbboards.c: on distribution, if a particular address loses,
	    keep on going and report the error later on.
	bboards/mmdf/mmdf.{1,2}/bboards/bb_wtmail.c: in addition to above
	    fix to sbboards, post failure notices to the local-XXX-request
	    address.


Fri Dec  7 00:25:24 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/{inc,show}.c: implement "unseen" for TGC.  This feature is
	    currently undocumented pending field-testing.



Sat Dec  8 18:16:20 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/rcvtty.c: minor-cleanup


Sat Dec  8 18:16:41 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	config/mh.h, tws/tws.h, conf/config/mts.c: remove the void
	    definitions
	conf/Makefile, config/makefiles/*: remove -ns from LDFLAGS
	conf/makefiles/uip: don't use the -g option for ls for
	    s{bboards,local}
	conf/makefiles/*: use -l to ls not -ls


Mon Dec 10 23:38:05 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	config/scansbr.h, uip/{inc,scansbr,send,post}.c: add support for
	    TTI's prototype TMA under #ifdef TMA
	uip/tmasbr.c: new module for support


Tue Dec 11 17:05:36 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/trmsbr.c: minor fix in discard() for #ifdef ALTOS


Tue Dec 11 22:35:58 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	     -- Fixes from Julian Onions at Nottingham --
	conf/makfiles/*: "ld -x -r" terminates with status 1 even if all
	    goes well, so tell make not to worry about it
	config/mh.h,conf/examples/READ-ME: talk about void=int
	uip/{msh,post,rcv{dist,pack,tty},slocal}.c: include <sys/ioctl.h> if
	    not V7


Wed Dec 12 11:51:52 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	tws/{tws.h,dtime.c}: use modified version of gtime() to add new
	    structure element to (struct tws *).  This makes time
	    comparisons insensitive to timezones, etc.

Thu Dec 13 00:05:42 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_getfld.c: big fields were having their headers zero'd


Tue Dec 18 15:59:34 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_getfld.c, uip/scansbr.c: some speed improvements from Jim
	    Larus at UCB


Tue Dec 18 16:00:07 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	bboards/getbbent.c, conf/config/mts.c, sbr/m_backup.c,
	    uip/dropsbr.c: for ALTOS "%.*s" doesn't work if * evals to 0,
	    so kludge around it


Tue Dec 18 16:00:48 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/{bbc,msh}.c: for Farber, say name of BBoard not name of file


Tue Dec 18 16:48:17 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	bboards/*.c, conf/config/mts.c, mhmts/*.c, mmdf/*.c, sendmts/*.c,
	    tws/*.c: register madness


Wed Dec 19 12:49:42 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_getfld.c: advise() with inverted arguments


Sat Dec 29 10:43:12 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/msh.c: improved $mhfolder handling for -prompt.


Sat Dec 29 10:45:08 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_sync.c: handle public and read-only sequences correctly
	uip/rmf.c: fix botch for handling read-only folders


Sat Dec 29 12:17:50 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	conf/{config/config.c,doc/{folder,mh-profile}.rf}, sbr/m_getdefs.c,
	    uip/folder.c: fix folder -fast -recurse


Sat Dec 29 16:56:59 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	conf/makefiles/sbr, config/mh.h, sbr/llib-lmh, sbr/closefds.c,
	    uip/{msh,post,rcvtty,replsbr,send,slocal,whom}.c: implement
	    closefds ()


Sun Dec 30 11:50:57 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/post.c: one more -noverbose fix


Sun Dec 30 12:01:08 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/sortm.c: fix for holes in "msgs" from Mike O'Brien


Sun Dec 30 12:11:45 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/post.c: have non-recipient addresses honor aliases


Sun Dec 30 19:52:27 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	conf/config/{config,mts}.c, mmdf/hosts.c, uip/trmsbr.c,
	    bboards/getbbent.c, config/mh.h: minor cleanup.


Mon Dec 31 17:43:49 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	tws/{tws.h,dtime.c}: add dgmtime()


Mon Dec 31 21:28:07 1984  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/packf.c, conf/doc/packf.c, conf/{config/config.c,makefiles/uip},
	    change pack to packf
	config/mh.h: make MAXFOLDERS smaller for the ALTOS


Wed Jan  2 13:20:42 1985  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/addrsbr.c: #ifdef DUMB inserted


Fri Jan  4 16:28:49 1985  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/addrsbr.c: SENDMTS was botching UUCP addrs


Mon Jan  7 19:05:22 1985  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	uip/inc.c: add -[no]truncate
	conf/doc/*: change up documentation a bit


Tue Jan  8 09:12:42 1985  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	conf/{mh-gen,doc/MH}.rf: last change, fix public domain notice
	config/notice.h: remove
	uip/version.sh: don't include ../config/notice.h


Tue Jan  8 09:45:25 1985  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	sbr/m_edit.c: from Mike O'Brien on 4.2BSD use symlinks if "@" is
	    across file systems
	uip/inc.c: slight botch in -[no]truncate

Tue Jan  8 13:54:13 1985  /mtr (agent: Marshall Rose) <uci@udel-dewey>

	MH.5 is finished, finally.


Sat Jan 26 09:05:52 1985  /mtr (agent: Marshall Rose) <mh@uci-750a>

		  -- Fixes for MHMTS configuration --
	conf/makefiles/uip: shouldn't build rcvdist on an MHMTS system
	conf/doc/mhook.rf: ditto
	conf/config/mts.c, mhmts/netmail.c, mts/mts.h, uip/rmail.c:
	    some typos in the declarations of global MTS variables that
	    are MHMTS specific
	mf/mmuu.c: addr_convert() conflicted with routine of same name
	    in uumm.c
	uip/news.c: looking in the wrong place for <sys/dir.h> on 4.2BSD
	    systems


Sat Jan 26 09:08:43 1985  /mtr (agent: Marshall Rose) <mh@uci-750a>

	uip/{inc,post}.c: changes for #ifdef TMA; this stuff is still
	    under non-disclosure (not the MH code, just the -ltma library
	    which doesn't come with MH)


Sat Jan 26 09:38:08 1985  /mtr (agent: Marshall Rose) <mh@uci-750a>

	tws/dtime.c: #define dysize(), since could be a macro in ctime.c
	    (thanks, Fred)


Sat Jan 26 09:12:27 1985  /mtr (agent: Marshall Rose) <mh@uci-750a>

	MH #5.310[UCI] (uci-750a) released to MH-Workers


Sun Jan 27 17:41:03 1985  /mtr (agent: Marshall Rose) <mh@uci-750a>

	sendmts/smail.c, uip/post.c: with -DSMTP, keep one SMTP connection
	    open, instead of starting a new one for each transaction
	othersupport/pop/{Makefile,{popd,popser,inc,popsbr}.c}: support
	    "rpop" under #ifdef RPOP
	othersupport/pop/client.c: remove
	conf/{config/mts.c,tailor/READ-ME,makefiles/sendmts}, mts/mts.h,
	    sendmts/{smail,client}.c: support new server search list
	    facility used by both -DSMTP and -DPOP


Sun Jan 27 18:42:49 1985  /mtr (agent: Marshall Rose) <mh@uci-750a>

	conf/makefiles/mts: dependency screw-up on mts.o


Tue Feb 12 19:33:14 1985  /mtr (agent: Marshall Rose) <mh@uci-750a>

	uip/mhlsbr.c: clear_screen() logic between messages botched


Mon Feb 18 12:53:50 1985  /mtr (agent: Marshall Rose) <mh@uci-750a>

	conf/doc/send.rf, uip/send.c: de-implement ~/.signature support


Wed Feb 20 20:40:14 1985  /mtr (agent: Marshall Rose) <mh@uci-750a>

	uip/inc.c: fix suggested by John Dilley at Purdue, inc now ignore
	    signals if it's going to zero the maildrop.


Wed Feb 20 20:48:12 1985  /mtr (agent: Marshall Rose) <mh@uci-750a>

	sbr/adios.c: save errno prior to doing fancy perror stuff


Fri Mar  1 19:48:53 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	conf/config/config.c: if MORE is defined, used that instead of
	    /usr/ucb/more.  The #ifdef ALTOS dependency is removed.
	   ALTOS users should use options MORE='"/usr/bin/more"',
	   just like users of the Dual.
	conf/examples/READ-ME: document same


Fri Mar  1 19:56:43 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	conf/config/mts.c: for the DUAL, you can't link to a file that you
	    can't read, unbelievable, eh?, so change the creat (foo, 0000)
	    to creat (foo, 0400).  Also, fix up some botched args to a
	    sprintf() call.


Fri Mar  1 19:59:32 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	uip/trmsbr.c: forgot to make a termcap buffer TXTSIZ'd instead
	    of BUFSIZ'd.


Sat Mar 1 20:21:17 1985  /mtr (agent: Marshall Rose) <mh@uci-750a>

	MH #5.321[UCI] (uci-750a) released to MH-Workers


Wed Mar  6 18:08:11 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	uip/{dropsbr,packf,post,slocal}.c: fix to maildrop mapping bug
	    with MHMTS and local delivery in post, and SENDMTS and local
	    delivery in slocal

Wed Mar  6 18:19:46 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	TODO, config/addrsbr.h, sendmts/smail.c, mf/mf.{c,h},
	    uip/{addrsbr,ap,post,rcvdist,sbboards}.c: handle 822-style
	    routing


Wed Mar  6 18:59:22 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	       -- Fixes from Robert Elz <kre@ucb-vax> --
	sbr/makedir.c: use mkdir() under #ifdef BSD42
	uip/rmf.c: use rmdir() under #ifdef BSD42


Sat Mar  9 15:36:13 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	bboards/mmdf/mmdf.{1,2}/bboards/bb_wtmail.c, uip/sbboards.c:
	    fix minor bug requiring nearly major re-write!!!


Sat Mar  9 15:54:40 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	uip/dropsbr.c: fix bug when fixing stomped maildrop.


Tue Mar 12 18:07:44 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	othersupport/pop/pop.txt: a few minor corrections to typos.


Wed Mar 13 22:01:37 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

       -- Fixes suggested by Phyllis Kantar <phyl@rand-unix> --
	uip/{comp,dist,forw,repl}.c: fix quit -delete logic
	conf/doc/{comp,mh-chart}.rf: document "-file file" switch
	uip/send.c: "send -help" should done (1) for comp, et. al.
	uip/send.c: typo "tempoary"
	conf/doc/{send,whom}.rf: Profile Components forgot Draft-Folder
	uip/ali.c: always load system aliases
	conf/doc/{MH,comp,dist,forw,mhook,repl,send,show,mh-alias,mh-mail,
	    mh-profile,mhl,post}.rf: typo fixes
	conf/doc/send.rf, uip/send.c: -forward now the default, also
	    don't gripe about "show -draft file"


Wed Mar 13 22:24:07 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	uip/send.c: fix "use xxx logic"
	uip/msh.c: a NULL vs. "" typo


Thu Mar 14 22:41:37 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	   -- Fixes suggested by John Dilley <jad@Purdue> --
	conf/{config/mts.c,tailor/READ-ME}: add new mtstailor variables
	    localname, systemname, and uucpchan
	mts/mts.h, conf/{mh-gen.8,config/{mts.c,mtstailor},tailor/READ-ME}:
	    add new mtstailor variable lockstyle to control style of locking
	sbr/m_getfld.c: catch the UNIX "from user" line
	uip/scansbr.c: make use of the UNIX "from user" line
	uip/addrsbr.c: more #ifdef DUMB support
	uip/inc.c: minor bug in inc w.r.t. closing locked file
	uip/post.c: more #ifdef DUMB support
	uip/replsbr.c: support Return-Path: for defaulting host names
	    as a last resort


Fri Mar 15 11:45:00 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	othersupport/emh/READ-ME: new file


Fri Mar 15 23:05:43 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	bbsupport/bbexp.c: fix string botch for command to popen.
	    also allow extra arguments to indicate aging period.


Fri Mar 15 23:21:29 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	sbr/printsw.c: compress output of printed switches
	sbr/m_getdefs.c: let $MHCONTEXT override context variable
	sbr/m_{getdefs,gmsg,sync}.c, conf/doc/mh-profile.rf: let the profile
	    entry "mh-sequences" override .mh_sequences
	sbr/m_seq.c: optimization


Sat Mar 16 00:28:01 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	uip/{inc,msh,rcvtty,scan,scansbr}.c: clean up handling of
	    inc -silent
	sbr/{llib-lmh,m_send.c}, uip/{annosbr,comp,dist,forw,repl}.c: move
	    annotations into send
	conf/makefiles/uip, uip/{send,post}.c: ditto
	conf/doc/{dist,forw,repl}.rf: ditto
	uip/anno.c: forgot to check (mp -> msgstats[msgnum] & SELECTED)


Sat Mar 16 01:38:06 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	conf/config/mts.c: add a few calls to mts_init ("mts") at
	    strategic places


Sat Mar 16 12:23:37 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	uip/{mark,msh}.c: don't set previous-sequence to make debugging
	    easier


Sat Mar 16 12:49:48 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	Makefile: simply Makefile using sh, also make DESTDIR work
	conf/makefiles/othersupport: simplify Makefile


Tue Mar 19 14:17:30 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	othersupport/mtrenv/bin/{distf,mpick,packit}: updates


Tue Mar 19 17:31:14 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	conf/doc/{ap,mh-chart}.rf, uip/ap.c: accept -help switch


Tue Mar 19 18:16:33 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	conf/doc/msgchk.rf: new file
	conf/{doc/{mh,mh-chart,MH}.rf,makefiles/doc}: update for msgchk


Thu Mar 21 08:45:11 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	sendmts/smail.c: fix logic error in sm_end(); MMDF-I has this
	    problem, MMDF-II might!


Sat Mar 23 12:48:30 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

		    -- Support the WhatNow shell --
	conf/makefiles/{sbr,uip}: updates for all of this
	uip/{comp,dist,forw,repl}.c: remove What now? code,
	    add -whatnow program, -nowhatnow
	sbr/m_whatnow.c: new module
	conf/config/config.c,config/mh.h,sbr/m_getdefs.c: new variable
	    whatnowproc
	sbr/llib-lmh: update
	uip/whatnow.c: new program, the first WhatNow shell
	conf/doc/{mh-chart,whom}.rf, uip/whom.c: upgrade to take draftfolder
	    arguments
	sbr/putenv.c: update for above
	sbr/m_send.c: undo previous edits, m_whatnow() takes care of it
	uip/distsbr.c: new module for dist-style support
	uip/{send,whom}.c: call distout() in distsbr.c
	conf/doc/whatnow.rf: new file
	conf/doc/{MH,comp,dist,forw,mh,mh-{chart,profile},repl}.rf: updates
	conf/doc/template: fix


Sun Mar 24 18:32:47 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	sbr/m_draft.c,
	    uip/{comp,dist,forw,refile,repl,send,show,whatnow,whom}.c: have
	    -nodraftfolder override "Draft-Folder:" profile entry


Mon Mar 25 18:06:48 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	mf/mf.c: avoid (incorrectly) recognizing " at " for "@" by using a
	    heuristic suggested by JSol.


Tue Mar 26 18:02:52 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	conf/doc/repl.rf: document bug in replcomps


Tue Mar 26 18:32:49 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	conf/{config/mts.c,tailor/READ-ME}, config/aliasbr.h, mts/mts.h, 
	    uip/aliasbr.c: make "*" logic mts-tailorable (ugh), you get
	    to choose highest non-user uid and non-user shell


Wed Apr  3 23:52:13 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	sendmts/smail.c: comment out an extra RSET for UCI's losing
	    MMDF-I SMTP server


Wed Apr  3 23:53:12 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	ohtersupport/mtrenv/bin/whatnow: new file


Sat Apr  6 16:17:23 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	MH #5.348[UCI] (uci-750a) released to MH-Workers


Fri Apr 19 18:27:16 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	conf/{config/mts.c,tailor/READ-ME}, mts/mts.h, uip/inc.c:
	    support the new MTS variable "pophost"


Fri Apr 19 18:28:44 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	bboards/bboards.h, uip/bbc.c: support BB_INVIS for "hidden"
	    BBoards in -topic
	uip/bbc.c: catch a long name that got past us
	uip/bbc.c: fix -topics logic when BBoards given


Fri Apr 19 18:32:13 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	conf/doc/MH.rf, sbr/m_send.c: de-implement "push" in whatnow
	    having send look for profile-entry of "push" rather than "send"
	    to confusing to the user "community"


Fri Apr 19 19:13:44 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	uip/post.c: more #ifdef DUMB madness, for local addresses,
	    if no host portion given, then don't give it to sm_wadr()
	uip/post.c: back #ifdef DUMB off a bit in From: for MMDFMTS


Fri Apr 19 19:23:39 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	uip/whatnow.c: if edit fails, it's time to go away
	sbr/m_edit.c: minor cosmetic change


Fri Apr 19 19:44:25 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	uip/send.c: on annotations, if push'd avoid getting upset
	    if message to annotate isn't there
	uip/send.c: fix "typo" for r1bindex ()
	uip/send.c: put ~/.signature support back in under #ifdef UCI
	uip/send.c: use mktemp() instead of bogus makename!
	uip/send.c: fix screwy interaction between msh, dist, whatnow,
	    and send (oh no!)


Sat Apr 20 14:46:10 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	sbr/m_send.c, uip/whatnow.c: on "push", let send do push() instead
	    of whatnow


Wed Apr 24 22:44:30 1985  /mtr (agent: Marshall Rose) <uci@nrtc>

	sbr/m_whatnow.c, uip/{dist,forw,repl}.c: fix obscure "@" bug.


Wed Apr 24 22:45:39 1985  /mtr (agent: Marshall Rose) <uci@nrtc>

	conf/doc/MH.rf: just a few more fixes...


Thu May  2 21:13:03 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	uip/sbboards.c: fdopen() called with wrong arg!


Thu May  2 21:13:32 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	uip/post.c: a few more back-offs with #ifdef DUMB...


Thu May  2 21:13:32 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	conf/makefiles/uip: make whatnow chmod +t'd


Thu May  2 21:14:56 1985  /mtr (agent: Marshall Rose) <mh@uci-icsa>

	MH #5.360[UCI] (uci-750a) released to MH-Workers
